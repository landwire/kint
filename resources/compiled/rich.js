void 0===window.kintRich&&(window.kintRich=function(){"use strict";var e={selectText:function(e){var t=window.getSelection(),a=document.createRange();a.selectNodeContents(e),t.removeAllRanges(),t.addRange(a)},each:function(e,t){Array.prototype.slice.call(document.querySelectorAll(e),0).forEach(t)},hasClass:function(e,t){return!!e.classList&&(void 0===t&&(t="kint-show"),e.classList.contains(t))},addClass:function(e,t){void 0===t&&(t="kint-show"),e.classList.add(t)},removeClass:function(e,t){return void 0===t&&(t="kint-show"),e.classList.remove(t),e},toggle:function(t,a){var r=e.getChildren(t);r&&(void 0===a&&(a=e.hasClass(t)),a?e.removeClass(t):e.addClass(t),1===r.childNodes.length&&(r=r.childNodes[0].childNodes[0])&&e.hasClass(r,"kint-parent")&&e.toggle(r,a))},toggleChildren:function(t,a){var r=e.getChildren(t);if(r){var o=r.getElementsByClassName("kint-parent"),s=o.length;for(void 0===a&&(a=!e.hasClass(t));s--;)e.toggle(o[s],a)}},toggleAll:function(t){for(var a=document.getElementsByClassName("kint-parent"),r=a.length,o=!e.hasClass(t.parentNode);r--;)e.toggle(a[r],o)},switchTab:function(t){var a,r=t.previousSibling,o=0;for(e.removeClass(t.parentNode.getElementsByClassName("kint-active-tab")[0],"kint-active-tab"),e.addClass(t,"kint-active-tab");r;)1===r.nodeType&&o++,r=r.previousSibling;a=t.parentNode.nextSibling.childNodes;for(var s=0;s<a.length;s++)s===o?(a[s].style.display="block",1===a[s].childNodes.length&&(r=a[s].childNodes[0].childNodes[0])&&e.hasClass(r,"kint-parent")&&e.toggle(r,!1)):a[s].style.display="none"},mktag:function(e){return"<"+e+">"},openInNewWindow:function(t){var a=window.open();a&&(a.document.open(),a.document.write(e.mktag("html")+e.mktag("head")+e.mktag("title")+"Kint ("+(new Date).toISOString()+")"+e.mktag("/title")+e.mktag(`meta charset="utf-8"`)+document.getElementsByClassName("kint-rich-script")[0].outerHTML+document.getElementsByClassName("kint-rich-style")[0].outerHTML+e.mktag("/head")+e.mktag("body")+`<input style="width: 100%" placeholder="Take some notes!"><div class="kint-rich">`+t.parentNode.outerHTML+"</div>"+e.mktag("/body")),a.document.close())},sortTable:function(e,t){var a=e.tBodies[0];[].slice.call(e.tBodies[0].rows).sort((function(e,a){if(e=e.cells[t].textContent.trim().toLocaleLowerCase(),a=a.cells[t].textContent.trim().toLocaleLowerCase(),isNaN(e)||isNaN(a)){if(isNaN(e)&&!isNaN(a))return 1;if(isNaN(a)&&!isNaN(e))return-1}else e=parseFloat(e),a=parseFloat(a);return e<a?-1:e>a?1:0})).forEach((function(e){a.appendChild(e)}))},showAccessPath:function(t){for(var a=t.childNodes,r=0;r<a.length;r++)if(e.hasClass(a[r],"access-path"))return void(e.hasClass(a[r],"kint-show")?e.removeClass(a[r]):(e.addClass(a[r]),e.selectText(a[r])))},showSearchBox:function(t){var a=t.querySelector(".kint-search");a&&(e.hasClass(a)?(e.removeClass(a),e.removeClass(t.parentNode,"kint-search-root")):(e.addClass(t),e.addClass(a),a.focus(),a.select(),e.search(a)))},search:function(t){var a=t.parentNode.parentNode;if(t.value.length){var r=e.findMatches(a,t.value);e.highlightMatches(a,r)}else e.removeClass(a,"kint-search-root")},findMatches:function(e,t){for(var a=null,r=0;r<e.children.length;r++)if("DD"===e.children[r].tagName){a=e.children[r];break}if(!a)return[];var o=a.querySelectorAll("dfn"),s=[];return t=t.toLowerCase(),[].forEach.call(o,(function(e){-1!=e.innerText.toLowerCase().indexOf(t)&&s.push(e)})),s},highlightMatches:function(t,a){var r=t.querySelectorAll(".kint-search-match");[].forEach.call(r,(function(t){e.removeClass(t,"kint-search-match")})),e.addClass(t,"kint-search-root");for(var o=0;o<a.length;o++){for(var s=a[o];s!=t;){if("DL"===s.tagName)e.addClass(s,"kint-search-match");else if("LI"===s.tagName){if(s.parentNode.previousElementSibling.classList.contains("kint-tabs")){var n=[].slice.call(s.parentNode.children).indexOf(s);e.addClass([].slice.call(s.parentNode.previousElementSibling.children)[n],"kint-search-match")}s=s.parentNode}s=s.parentNode}e.addClass(a[o],"kint-search-match")}},getParentByClass:function(t,a){for(void 0===a&&(a="kint-rich");(t=t.parentNode)&&!e.hasClass(t,a););return t},getParentHeader:function(t,a){for(var r=t.nodeName.toLowerCase();"dd"!==r&&"dt"!==r&&e.getParentByClass(t);)r=(t=t.parentNode).nodeName.toLowerCase();return e.getParentByClass(t)?("dd"===r&&a&&(t=t.previousElementSibling),t&&"dt"===t.nodeName.toLowerCase()&&e.hasClass(t,"kint-parent")?t:void 0):null},getChildren:function(e){do{e=e.nextElementSibling}while(e&&"dd"!==e.nodeName.toLowerCase());return e},initLoad:function(){e.style=window.kintShared.dedupe("style.kint-rich-style",e.style),e.script=window.kintShared.dedupe("script.kint-rich-script",e.script),e.folder=window.kintShared.dedupe(".kint-rich.kint-folder",e.folder);var t=document.querySelectorAll("input.kint-search");if([].forEach.call(t,(function(t){var a=null,r=function(r){if(window.clearTimeout(a),t.value!==o){var o=t.value;a=window.setTimeout((function(){e.search(t)}),500)}};t.removeEventListener("keyup",r),t.addEventListener("keyup",r)})),e.folder){var a=e.folder.querySelector("dd");[].forEach.call(document.querySelectorAll(".kint-rich.kint-file"),(function(t){t.parentNode!==e.folder&&a.appendChild(t)})),document.body.appendChild(e.folder),e.addClass(e.folder)}},keyboardNav:{targets:[],target:0,active:!1,fetchTargets:function(){e.keyboardNav.targets=[],e.each(".kint-rich nav, .kint-tabs>li:not(.kint-active-tab)",(function(t){0===t.offsetWidth&&0===t.offsetHeight||e.keyboardNav.targets.push(t)}))},sync:function(t){var a=document.querySelector(".kint-focused");if(a&&e.removeClass(a,"kint-focused"),e.keyboardNav.active){var r=e.keyboardNav.targets[e.keyboardNav.target];e.addClass(r,"kint-focused"),t||e.keyboardNav.scroll(r)}},scroll:function(t){var a=function(e){return e.offsetTop+(e.offsetParent?a(e.offsetParent):0)},r=a(t);if(e.folder){var o=e.folder.querySelector("dd.kint-folder");o.scrollTo(0,r-o.clientHeight/2)}else window.scrollTo(0,r-window.innerHeight/2)},moveCursor:function(t){for(e.keyboardNav.target+=t;e.keyboardNav.target<0;)e.keyboardNav.target+=e.keyboardNav.targets.length;for(;e.keyboardNav.target>=e.keyboardNav.targets.length;)e.keyboardNav.target-=e.keyboardNav.targets.length;e.keyboardNav.sync()},setCursor:function(t){e.keyboardNav.fetchTargets();for(var a=0;a<e.keyboardNav.targets.length;a++)if(t===e.keyboardNav.targets[a])return e.keyboardNav.target=a,!0;return!1}},mouseNav:{lastClickTarget:null,lastClickTimer:null,lastClickCount:0,renewLastClick:function(){window.clearTimeout(e.mouseNav.lastClickTimer),e.mouseNav.lastClickTimer=window.setTimeout((function(){e.mouseNav.lastClickTarget=null,e.mouseNav.lastClickTimer=null,e.mouseNav.lastClickCount=0}),250)}},style:null,script:null,folder:null};return window.addEventListener("click",(function(t){var a=t.target,r=a.nodeName.toLowerCase();if(e.mouseNav.lastClickTarget&&e.mouseNav.lastClickTimer&&e.mouseNav.lastClickCount)return a=e.mouseNav.lastClickTarget,void(1===e.mouseNav.lastClickCount?(e.toggleChildren(a.parentNode),e.keyboardNav.setCursor(a),e.keyboardNav.sync(!0),e.mouseNav.lastClickCount++,e.mouseNav.renewLastClick()):(e.toggleAll(a),e.keyboardNav.setCursor(a),e.keyboardNav.sync(!0),e.keyboardNav.scroll(a),window.clearTimeout(e.mouseNav.lastClickTimer),e.mouseNav.lastClickTarget=null,e.mouseNav.lastClickTarget=null,e.mouseNav.lastClickCount=0));if(e.getParentByClass(a)){if("dfn"===r)e.selectText(a);else if("th"===r)return void(t.ctrlKey||e.sortTable(a.parentNode.parentNode.parentNode,a.cellIndex));if((a=e.getParentHeader(a))&&(e.keyboardNav.setCursor(a.querySelector("nav")),e.keyboardNav.sync(!0)),a=t.target,"li"===r&&"kint-tabs"===a.parentNode.className)"kint-active-tab"!==a.className&&e.switchTab(a),(a=e.getParentHeader(a,!0))&&(e.keyboardNav.setCursor(a.querySelector("nav")),e.keyboardNav.sync(!0));else if("nav"===r)"footer"===a.parentNode.nodeName.toLowerCase()?(e.keyboardNav.setCursor(a),e.keyboardNav.sync(!0),a=a.parentNode,e.hasClass(a)?e.removeClass(a):e.addClass(a)):(e.toggle(a.parentNode),e.keyboardNav.fetchTargets(),e.mouseNav.lastClickCount=1,e.mouseNav.lastClickTarget=a,e.mouseNav.renewLastClick());else if(e.hasClass(a,"kint-popup-trigger")){var o=a.parentNode;if("footer"===o.nodeName.toLowerCase())o=o.previousSibling;else for(;o&&!e.hasClass(o,"kint-parent");)o=o.parentNode;e.openInNewWindow(o)}else e.hasClass(a,"kint-access-path-trigger")?e.showAccessPath(a.parentNode):e.hasClass(a,"kint-search-trigger")?e.showSearchBox(a.parentNode):e.hasClass(a,"kint-search")||("pre"===r&&3===t.detail?e.selectText(a):e.getParentByClass(a,"kint-source")&&3===t.detail?e.selectText(e.getParentByClass(a,"kint-source")):e.hasClass(a,"access-path")?e.selectText(a):"a"!==r&&(a=e.getParentHeader(a))&&(e.toggle(a),e.keyboardNav.fetchTargets()))}}),!0),window.addEventListener("keydown",(function(t){if(t.target===document.body&&!t.altKey&&!t.ctrlKey){if(68===t.keyCode){if(e.keyboardNav.active)e.keyboardNav.active=!1;else if(e.keyboardNav.active=!0,e.keyboardNav.fetchTargets(),0===e.keyboardNav.targets.length)return void(e.keyboardNav.active=!1);return e.keyboardNav.sync(),void t.preventDefault()}if(e.keyboardNav.active){if(9===t.keyCode)return e.keyboardNav.moveCursor(t.shiftKey?-1:1),void t.preventDefault();if(38===t.keyCode||75===t.keyCode)return e.keyboardNav.moveCursor(-1),void t.preventDefault();if(40===t.keyCode||74===t.keyCode)return e.keyboardNav.moveCursor(1),void t.preventDefault();var a=e.keyboardNav.targets[e.keyboardNav.target];if("li"===a.nodeName.toLowerCase()){if(32===t.keyCode||13===t.keyCode)return e.switchTab(a),e.keyboardNav.fetchTargets(),e.keyboardNav.sync(),void t.preventDefault();if(39===t.keyCode||76===t.keyCode)return e.keyboardNav.moveCursor(1),void t.preventDefault();if(37===t.keyCode||72===t.keyCode)return e.keyboardNav.moveCursor(-1),void t.preventDefault()}if(a=a.parentNode,65===t.keyCode)return e.showAccessPath(a),void t.preventDefault();if("footer"===a.nodeName.toLowerCase()&&e.hasClass(a.parentNode,"kint-rich"))32===t.keyCode||13===t.keyCode?(e.hasClass(a)?e.removeClass(a):e.addClass(a),t.preventDefault()):37===t.keyCode||72===t.keyCode?(e.removeClass(a),t.preventDefault()):39!==t.keyCode&&76!==t.keyCode||(e.addClass(a),t.preventDefault());else{if(32===t.keyCode||13===t.keyCode)return e.toggle(a),e.keyboardNav.fetchTargets(),void t.preventDefault();if(39===t.keyCode||76===t.keyCode||37===t.keyCode||72===t.keyCode){var r=37===t.keyCode||72===t.keyCode;if(e.hasClass(a))e.toggleChildren(a,r),e.toggle(a,r);else{if(r){var o=e.getParentHeader(a.parentNode.parentNode,!0);o&&(a=o,e.keyboardNav.setCursor(a.querySelector("nav")),e.keyboardNav.sync())}e.toggle(a,r)}return e.keyboardNav.fetchTargets(),void t.preventDefault()}}}}}),!0),e}()),window.kintShared.runOnce(window.kintRich.initLoad);
